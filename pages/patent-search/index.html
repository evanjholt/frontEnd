<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patent Search - Quiver Quantitative</title>
    <link rel="stylesheet" href="../../src/styles/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>
<body>
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Main Content -->
    <main class="main">
        <!-- Breadcrumb -->
        <section class="breadcrumb-section">
            <div class="container">
                <div class="breadcrumb">
                    <a href="../home/index.html">Home</a>
                    <span>/</span>
                    <span>Patent Search</span>
                </div>
            </div>
        </section>

        <!-- Page Header -->
        <section class="page-header patent-header">
            <div class="container">
                <h1 class="page-title">Patent Search</h1>
                <p class="page-subtitle">Search U.S. patents by keywords or company tickers</p>
            </div>
        </section>

        <!-- Patent Search Interface -->
        <section class="patent-search-interface">
            <div class="container">
                <div class="search-options">
                    <div class="search-option">
                        <h3 class="search-option-title">üîç Search by Keywords</h3>
                        <p class="search-option-description">Find patents containing specific terms or technologies</p>
                        <form class="search-form" id="keywordSearchForm">
                            <div class="search-input-group">
                                <input type="text" 
                                       placeholder="Enter keywords (e.g., 'electric vehicles', 'artificial intelligence')" 
                                       class="search-input" 
                                       id="keywordInput" 
                                       required>
                                <button type="submit" class="btn btn-primary">Search Patents</button>
                            </div>
                        </form>
                    </div>

                    <div class="search-option">
                        <h3 class="search-option-title">üè¢ Search by Company Ticker</h3>
                        <p class="search-option-description">Explore patents filed by specific public companies</p>
                        <form class="search-form" id="tickerSearchForm">
                            <div class="search-input-group">
                                <input type="text" 
                                       placeholder="Enter stock ticker (e.g., 'TSLA', 'GOOGL')" 
                                       class="search-input" 
                                       id="tickerInput" 
                                       required>
                                <button type="submit" class="btn btn-primary">Search Patents</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search Results Section -->
        <section class="search-results" id="searchResults" style="display: none;">
            <div class="container">
                <div class="results-header">
                    <h2 class="results-title">Search Results</h2>
                    <div class="results-count">
                        <span id="resultsCount">0</span> patents found
                    </div>
                </div>

                <!-- Patent Visualization -->
                <div class="patent-visualization">
                    <div class="patent-chart-container">
                        <h3 class="chart-title">Patents Over Time</h3>
                        <div class="patent-scatter-chart">
                            <div class="patent-categories">
                                <div class="category-item">Technology Classification</div>
                                <div class="category-item">Filing Date Range</div>
                                <div class="category-item">Patent Status</div>
                                <div class="category-item">Application Type</div>
                            </div>
                            <div class="scatter-plot-area">
                                <div class="legend">
                                    <div class="legend-item">
                                        <div class="legend-dot current-year"></div>
                                        <span>2023-2024</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-dot recent-year"></div>
                                        <span>2020-2022</span>
                                    </div>
                                </div>
                                <div class="patent-dots" id="patentDots">
                                    <!-- Patent dots will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Patents Table -->
                <div class="recent-patents">
                    <div class="patents-header">
                        <h3 class="section-title">Recent Patents</h3>
                        <p class="section-note">Showing most recent patent filings for your search</p>
                    </div>
                    
                    <div class="table-container">
                        <table class="table patents-table" id="patentsTable">
                            <thead>
                                <tr>
                                    <th>Company</th>
                                    <th>Patent Title</th>
                                    <th>Filing Date</th>
                                    <th>Patent Number</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="patentsTableBody">
                                <!-- Table rows will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Other Datasets -->
        <section class="other-datasets">
            <div class="container">
                <h2 class="section-title">Explore Other Datasets</h2>
                <div class="datasets-grid">
                    <a href="../government-contracts/index.html" class="dataset-card">
                        <div class="dataset-icon">üèõÔ∏è</div>
                        <div class="dataset-info">
                            <h3>Government Contracts</h3>
                            <p>Federal contracts and spending data</p>
                        </div>
                    </a>
                    
                    <a href="../corporate-lobbying/index.html" class="dataset-card corporate-flights">
                        <div class="dataset-icon">‚úàÔ∏è</div>
                        <div class="dataset-info">
                            <h3>Corporate Lobbying</h3>
                            <p>Lobbying expenditures and activities</p>
                        </div>
                    </a>
                    
                    <a href="../insider-trading/index.html" class="dataset-card app-ratings">
                        <div class="dataset-icon">üì±</div>
                        <div class="dataset-info">
                            <h3>Insider Trading</h3>
                            <p>Congressional and executive trades</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <script type="module" src="../../src/scripts/main.js"></script>
    <script>
        // Load components
        document.addEventListener('DOMContentLoaded', function() {
            // Load header
            fetch('../../src/components/header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-placeholder').innerHTML = data;
                });
            
            // Load footer
            fetch('../../src/components/footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });

            // Initialize patent search functionality
            initializePatentSearch();
        });

        function initializePatentSearch() {
            // Keyword search form
            document.getElementById('keywordSearchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const keywords = document.getElementById('keywordInput').value;
                if (keywords.trim()) {
                    window.location.href = `keywords.html?q=${encodeURIComponent(keywords.trim())}`;
                }
            });

            // Ticker search form
            document.getElementById('tickerSearchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const ticker = document.getElementById('tickerInput').value;
                if (ticker.trim()) {
                    window.location.href = `tickers.html?ticker=${encodeURIComponent(ticker.trim().toUpperCase())}`;
                }
            });

            // Popular searches
            addPopularSearches();
        }

        function addPopularSearches() {
            const popularKeywords = [
                'electric vehicles', 'artificial intelligence', 'blockchain', 
                'renewable energy', 'quantum computing', 'biotechnology'
            ];
            
            const popularTickers = ['TSLA', 'GOOGL', 'AAPL', 'MSFT', 'NVDA', 'META'];

            // You can add popular search suggestions here
        }
    </script>
</body>
</html>